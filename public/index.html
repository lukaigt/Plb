<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BTC Trading Bot — Polymarket</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="header">
    <h1>BTC Polymarket Trading Bot</h1>
    <div class="header-controls">
      <button class="btn btn-blue" onclick="scanNow()">Scan Now</button>
      <button class="btn btn-green" id="startBtn" onclick="startBot()">Start Bot</button>
      <button class="btn btn-red" id="stopBtn" onclick="stopBot()">Stop Bot</button>
      <button class="btn btn-yellow" id="killBtn" onclick="toggleKillSwitch()">Kill Switch</button>
    </div>
  </div>

  <div class="container">
    <div id="safetyBar" class="safety-bar">
      <div class="safety-item">
        <span class="s-label">Bot Status</span>
        <span class="s-value" id="botStatus"><span class="status-dot dot-red"></span>Stopped</span>
      </div>
      <div class="safety-item">
        <span class="s-label">Kill Switch</span>
        <span class="s-value" id="killStatus">OFF</span>
      </div>
      <div class="safety-item">
        <span class="s-label">Today's Record</span>
        <span class="s-value" id="todayRecord">0W / 0L</span>
      </div>
      <div class="safety-item">
        <span class="s-label">Losses Today</span>
        <span class="s-value" id="dailyLosses">0 / 6</span>
        <div class="progress-bar">
          <div class="progress-fill" id="lossProgress" style="width: 0%; background: #3fb950;"></div>
        </div>
      </div>
      <div class="safety-item">
        <span class="s-label">Money Lost</span>
        <span class="s-value" id="dailyLoss">$0.00 / $15.00</span>
      </div>
      <div class="safety-item">
        <span class="s-label">Money Spent</span>
        <span class="s-value" id="dailySpent">$0.00</span>
      </div>
      <div class="safety-item">
        <span class="s-label">Trades Today</span>
        <span class="s-value" id="tradesToday">0</span>
      </div>
    </div>

    <div class="grid-top">
      <div class="stat-card">
        <div class="label">Total P&L</div>
        <div class="value neutral" id="totalPnl">$0.00</div>
        <div class="sub" id="todayPnl">Today: $0.00</div>
      </div>
      <div class="stat-card">
        <div class="label">Win Rate</div>
        <div class="value" id="winRate">0.0%</div>
        <div class="sub" id="winLoss">0W / 0L</div>
      </div>
      <div class="stat-card">
        <div class="label">Total Trades</div>
        <div class="value neutral" id="totalTrades">0</div>
        <div class="sub" id="pendingTrades">Pending: 0</div>
      </div>
      <div class="stat-card">
        <div class="label">Last Scan</div>
        <div class="value neutral" id="lastScan" style="font-size:16px;">Never</div>
        <div class="sub" id="scanInterval">Interval: --</div>
      </div>
    </div>

    <div class="panel" style="margin-bottom:20px;">
      <div class="panel-header">
        AI Analysis — Full Decision Log
        <span style="font-size:11px;color:#484f58;" id="decisionCount">0 decisions</span>
      </div>
      <div class="panel-body" id="decisionsPanel" style="max-height:600px;">
        <div class="empty-state">No AI decisions yet. Waiting for market scan...</div>
      </div>
    </div>

    <div class="panel" style="margin-bottom:20px;">
      <div class="panel-header">
        Auto-Redeem — Winning Position Collection
        <span style="font-size:11px;color:#484f58;" id="redeemCount">0 tracked</span>
      </div>
      <div class="panel-body" id="redeemPanel" style="max-height:300px;">
        <div class="empty-state">No positions tracked yet. Trades will appear here for auto-redemption.</div>
      </div>
    </div>

    <div class="grid-main">
      <div class="panel">
        <div class="panel-header">
          Live Activity Feed
          <span style="font-size:11px;color:#484f58;" id="activityCount">0 events</span>
        </div>
        <div class="panel-body" id="activityPanel">
          <div class="empty-state">No activity yet. Bot will start scanning soon...</div>
        </div>
      </div>

      <div class="panel">
        <div class="panel-header">
          Trade History
          <span style="font-size:11px;color:#484f58;" id="tradeCount">0 trades</span>
        </div>
        <div class="panel-body" style="max-height:400px;">
          <table class="trade-table" id="tradeTable">
            <thead>
              <tr>
                <th>Time</th>
                <th>Action</th>
                <th>Pattern</th>
                <th>Confidence</th>
                <th>Size</th>
                <th>Price</th>
                <th>Result</th>
                <th>Reasoning</th>
              </tr>
            </thead>
            <tbody id="tradeBody">
              <tr><td colspan="8" class="empty-state">No trades yet</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <script src="/app.js"></script>
</body>
</html>
